- #include_javascript 'admin/tablekit'
- include_javascript 'admin/ruledtable'

%h1 Pages

= render_region :top

- if params[:view] == 'paginated_list'
  = will_paginate @pages

%table.index.sortable{:summary=>"Sortable list of pages for the current site"}
  %thead
    %tr
      - list_display_attributes.each do |att|
        %th{:class => attribute_header_class(att), :id => attribute_header_id(att) }
          %a
            %span.w1= att.humanize
  %tbody
    - if @pages
      = render :partial => 'page', :collection => @pages
    - else
      %tr
        %td.note{:colspan => 4} No Pages

- if params[:view] == 'paginated_list'
  = will_paginate @pages
  
= render_region :bottom

- unless @pages
  %p
    = link_to image('new-homepage', :alt => 'New Homepage'), homepage_new_url
    
- content_for :page_css do
  :sass
    #content
      table.index.sortable
        th
          background-position: right center
          background-repeat: no-repeat
          &.sortasc
            background-image: url(/images/admin/move_lower.png) ! important
            background-color: #ff8 ! important
          &.sortdesc
            background-image: url(/images/admin/move_higher.png) ! important
            background-color: #8ff ! important            
    th a
      color: black
      text-decoration: none
      font-weight: bold
      &:hover
        text-decoration: underline
    .pagination
      :text-align left
      :margin -10px 0 10px 96px
    .pagination a 
      :border 1px solid #005b9c
      :color #005b9c
      :text-decoration none
      :padding 1px 3px
      &:hover
        :background-color #ddddee
    .pagination span.disabled
      :display none
    .pagination .current
      :font-weight bold
      :background-color #FFFFDD
      :padding 1px 3px
      :border 1px solid black
